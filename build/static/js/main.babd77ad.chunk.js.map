{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","person","removeFunction","react_default","a","createElement","className","name","number","value","id","onClick","Filter","filterCriteria","changeHandler","onChange","PersonForm","nameHandler","numberHandler","addFunction","onSubmit","type","baseUrl","services_persons","axios","get","then","response","data","newObject","post","object","put","concat","removeId","delete","Notification","message","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newCriteria","setNewCriteria","personsToShow","filter","includes","_useState9","_useState10","errorMessage","setErrorMessage","useEffect","personService","initialPersons","removePerson","event","preventDefault","window","confirm","target","components_Notification","components_Filter","components_PersonForm","personObject","find","oldPerson","updatedPersonObject","catch","error","personToRemove","index","indexOf","splice","returnedPerson","map","components_Person","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.babd77ad.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, removeFunction}) => {\r\n\r\n  return (\r\n    <div className = 'person'>\r\n      <br></br>\r\n      <div>{person.name}</div>\r\n      <div>{person.number}</div>\r\n      <button name = {person.name} value={person.id} onClick={removeFunction}> Delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Filter = ({filterCriteria, changeHandler}) => {\r\n  return (\r\n    <form>\r\n        <div>\r\n          Rajaa näytettäviä\r\n        </div>\r\n        <input\r\n          value={filterCriteria}\r\n          onChange={changeHandler}  \r\n        />\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({name, number, nameHandler, numberHandler, addFunction}) => {\r\n  return (\r\n    <form onSubmit={addFunction}>\r\n        <div>Nimi: </div>\r\n        <input\r\n          value={name}\r\n          onChange={nameHandler}\r\n        />\r\n        <div>Numero: </div>\r\n        <input\r\n          value={number}\r\n          onChange={numberHandler}\r\n        />\r\n        <div>\r\n          <button type=\"submit\">tallenna</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, object) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, object)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (removeId) => {\r\n    const request = axios.delete(`${baseUrl}/${removeId}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update, \r\n  remove: remove\r\n}\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber ] = useState('')\n  const [newCriteria, setNewCriteria ] = useState('')\n  const personsToShow = persons.filter(person => person.name.includes(newCriteria))\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const rows = () => personsToShow.map(person =>\n    <Person\n      key={person.id}\n      person={person}\n      removeFunction={removePerson}\n    />\n  )  \n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n    })\n  }, [])\n\n  const removePerson = (event) => {\n    event.preventDefault()\n    if(window.confirm(`Poistetaanko ${event.target.name}?`)){\n      personService\n        .remove(event.target.value)\n          .then(setPersons(persons.filter(person => person.id != event.target.value)))\n      setErrorMessage(`${event.target.name} poistettiin puhelinluettelosta.`)\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if(persons.find(person => person.name === newName)){\n      const oldPerson = persons.find(person => person.name === newName)\n      if(window.confirm(`${newName} on jo luettelossa. Haluatko korvata yhteystiedon?`)){\n            const updatedPersonObject = {\n              name: newName,\n              number: newNumber,\n              id: oldPerson.id\n            }\n      \n            personService\n              .update(updatedPersonObject.id,updatedPersonObject)\n              .catch(error => {\n                setErrorMessage(`Yhteystieto \"${updatedPersonObject.name}\" on jo poistettu palvelimelta.`)\n              })\n\n              const personToRemove = persons.find(person => person.id === updatedPersonObject.id)\n              const index = persons.indexOf(personToRemove)\n              persons.splice(index,1,updatedPersonObject)\n              setNewName(\"\")\n              setNewNumber(\"\")\n              setErrorMessage(`Yhteystiedon \"${updatedPersonObject.name}\" tiedot päivitettiin.`)\n            }\n        }\n        else{\n          personService\n            .create(personObject)\n              .then(returnedPerson => {\n                setPersons(persons.concat(returnedPerson))\n                setNewName(\"\")\n                setNewNumber(\"\")\n                setErrorMessage(`${returnedPerson.name} lisättiin puhelinluetteloon.`)\n              })\n        }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleCriteriaChange = (event) => {\n    setNewCriteria(event.target.value)\n  }\n\n  return (\n    <div>\n\n      <Notification message={errorMessage} />\n\n      <h1>Puhelinluettelo</h1>  \n      <Filter\n        filterCriteria = {newCriteria}\n        changeHandler = {handleCriteriaChange}\n      />\n      <PersonForm\n        name = {newName}\n        number = {newNumber}\n        nameHandler = {handleNameChange}\n        numberHandler = {handleNumberChange}\n        addFunction = {addPerson}\n      />\n      {rows()}\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App/>,document.getElementById('root'))"],"sourceRoot":""}